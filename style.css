/* ============================================================
   KARATE JOURNEY — CINEMATIC PRESENTATION
   Split Layout  |  Photo-Matched Colors  |  TED-style Flow
   ============================================================ */

/* ---- Reset & Base ---- */
*, *::before, *::after {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --gold: #D4A843;
    --gold-light: #F5D98A;
    --gold-dark: #8B6914;
    --red: #E63946;
    --text-primary: #FFFFFF;
    --text-secondary: rgba(255, 255, 255, 0.78);
    --text-muted: rgba(255, 255, 255, 0.4);
    --font-heading: 'Playfair Display', Georgia, serif;
    --font-body: 'Outfit', -apple-system, sans-serif;
    --transition-smooth: cubic-bezier(0.22, 1, 0.36, 1);
}

html {
    font-size: 16px;
    overflow: hidden;
}

body {
    font-family: var(--font-body);
    background: #050505;
    color: var(--text-primary);
    overflow: hidden;
    height: 100vh;
    width: 100vw;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* ============================================================
   PER-SLIDE COLOR THEMES
   Matched to dominant colors in each personal photo
   ============================================================ */

/* Crimson — Studio shots with red/maroon background (slides 1, 4, 6) */
[data-theme="crimson"] {
    --slide-bg: #1a0a10;
    --slide-bg-mid: #2a1018;
    --slide-accent: #8b2040;
}

/* Ocean — Childhood blue/red competition mat (slide 2) */
[data-theme="ocean"] {
    --slide-bg: #0c1520;
    --slide-bg-mid: #142030;
    --slide-accent: #2a4a6a;
}

/* Steel — Arena with blue mats, neutral lighting (slides 3, 5) */
[data-theme="steel"] {
    --slide-bg: #0f1418;
    --slide-bg-mid: #1a2028;
    --slide-accent: #3a4a5a;
}

/* Al Ahly — Red & gold club branding (slides 7, 9) */
[data-theme="alahly"] {
    --slide-bg: #1a0c0c;
    --slide-bg-mid: #2a1210;
    --slide-accent: #9a1b1b;
}

/* Navy — Blue glass building backdrop (slide 8) */
[data-theme="navy"] {
    --slide-bg: #0a1220;
    --slide-bg-mid: #101a2e;
    --slide-accent: #1a3050;
}

/* Sunset — Golden cinematic ending */
[data-theme="sunset"] {
    --slide-bg: #100c05;
    --slide-bg-mid: #1a1508;
    --slide-accent: #6a5020;
}

/* Faith — Deep spiritual green, zen/meditative (slide 9) */
[data-theme="faith"] {
    --slide-bg: #060e0a;
    --slide-bg-mid: #0c1a12;
    --slide-accent: #1a5c3a;
}

/* Ending — Pure dark, all focus on the words */
[data-theme="ending"] {
    --slide-bg: #050505;
    --slide-bg-mid: #0a0a0a;
    --slide-accent: #8b1414;
}

/* Ending slide — centered, minimal, powerful */
.slide-ending {
    align-items: center;
    justify-content: center;
    background: radial-gradient(
        ellipse at center,
        var(--slide-bg-mid) 0%,
        var(--slide-bg) 70%
    );
}

.slide-title-ending {
    font-size: clamp(3rem, 8vw, 6rem) !important;
    margin-bottom: 2rem !important;
    letter-spacing: 0.02em;
}

.slide-quote-ending {
    font-size: clamp(1.2rem, 2.5vw, 1.8rem) !important;
    color: var(--text-secondary) !important;
    margin-bottom: 2rem;
}

.slide-ending .slide-closing {
    font-size: 1.8rem;
    margin-top: 1rem;
    letter-spacing: 0.1em;
}

/* ---- Preloader ---- */
#preloader {
    position: fixed;
    inset: 0;
    z-index: 10000;
    background: #050505;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: opacity 0.8s ease, visibility 0.8s ease;
}

#preloader.hidden {
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
}

.loader-ring {
    width: 60px;
    height: 60px;
    margin: auto;
    border: 3px solid rgba(212, 168, 67, 0.15);
    border-top-color: var(--gold);
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

.loader-text {
    margin-top: 1.5rem;
    font-size: 0.85rem;
    letter-spacing: 0.3em;
    text-transform: uppercase;
    text-align: center;
    color: var(--text-muted);
    font-weight: 300;
}

.loader-content { text-align: center; }

@keyframes spin { to { transform: rotate(360deg); } }

/* ---- Progress Bar ---- */
#progress-bar {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 3px;
    z-index: 1000;
    background: rgba(255, 255, 255, 0.06);
}

#progress-fill {
    height: 100%;
    width: 10%;
    background: linear-gradient(90deg, var(--gold-dark), var(--gold), var(--gold-light));
    transition: width 0.6s var(--transition-smooth);
    box-shadow: 0 0 20px rgba(212, 168, 67, 0.4);
}

/* ---- Slide Counter ---- */
#slide-counter {
    position: fixed;
    top: 2rem;
    right: 2.5rem;
    z-index: 900;
    font-weight: 300;
    font-size: 0.9rem;
    letter-spacing: 0.15em;
    color: var(--text-muted);
    opacity: 0;
    animation: fadeInUp 0.8s 1.5s forwards;
}

#current-slide-num {
    color: var(--gold);
    font-weight: 700;
    font-size: 1.1rem;
}

.counter-divider { margin: 0 0.3em; }

/* ---- Navigation Arrows ---- */
.nav-arrow {
    position: fixed;
    top: 50%;
    transform: translateY(-50%);
    z-index: 900;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: var(--text-secondary);
    width: 48px;
    height: 48px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
    opacity: 0;
    animation: fadeInUp 0.8s 1.8s forwards;
}

.nav-arrow:hover {
    background: rgba(212, 168, 67, 0.15);
    border-color: var(--gold);
    color: var(--gold);
    transform: translateY(-50%) scale(1.1);
}

.nav-arrow svg { width: 20px; height: 20px; }
#nav-prev { left: 1.5rem; }
#nav-next { right: 1.5rem; }

/* ---- Slide Dots ---- */
#slide-dots {
    position: fixed;
    bottom: 2rem;
    left: 50%;
    transform: translateX(-50%);
    z-index: 900;
    display: flex;
    gap: 8px;
    opacity: 0;
    animation: fadeInUp 0.8s 2s forwards;
}

.dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.2);
    cursor: pointer;
    transition: all 0.4s ease;
    border: none;
    padding: 0;
}

.dot.active {
    background: var(--gold);
    box-shadow: 0 0 12px rgba(212, 168, 67, 0.5);
    transform: scale(1.3);
}

.dot:hover { background: rgba(212, 168, 67, 0.6); }

/* ---- Keyboard Hint ---- */
#keyboard-hint {
    position: fixed;
    bottom: 2rem;
    right: 2.5rem;
    z-index: 900;
    font-size: 0.7rem;
    color: var(--text-muted);
    letter-spacing: 0.1em;
    opacity: 0;
    animation: fadeInUp 0.8s 2.2s forwards;
}

#keyboard-hint span {
    display: inline-block;
    padding: 2px 6px;
    background: rgba(255, 255, 255, 0.08);
    border-radius: 3px;
    font-family: monospace;
    font-size: 0.65rem;
    margin: 0 2px;
}

/* ============================================================
   SLIDES — BASE
   ============================================================ */
#presentation {
    position: relative;
    width: 100vw;
    height: 100vh;
    overflow: hidden;
}

.slide {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    visibility: hidden;
    transition: opacity 1s ease, visibility 1s ease;
    background-color: var(--slide-bg, #0a0a0a);
}

.slide.active {
    opacity: 1;
    visibility: visible;
}

/* ============================================================
   LAYOUT A: SPLIT — For portrait photos
   Photo on one side as a real <img>, text on the other.
   Photo keeps its natural aspect ratio. No stretching.
   ============================================================ */
.slide-split {
    display: flex;
    flex-direction: row;
}

/* -- Text half -- */
.split-text {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 3rem 5vw;
    position: relative;
    z-index: 10;
    /* Subtle radial glow from the accent color */
    background: radial-gradient(
        ellipse at 50% 50%,
        var(--slide-bg-mid, #151515) 0%,
        var(--slide-bg, #0a0a0a) 70%
    );
}

.split-text-inner {
    max-width: 500px;
}

/* -- Photo half -- */
.split-photo {
    flex: 0 0 45%;
    position: relative;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: var(--slide-bg, #0a0a0a);
}

.split-photo img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center top;
    display: block;
    /* No pixelation, no stretching */
    image-rendering: auto;
}

.split-photo #work-img {
    object-position: center center;
}
.split-photo #ora-img {
    object-position: center bottom;
}
.split-photo #identity-img {
    object-position: center 25%;
}
.split-photo #conflict-img {
    object-position: center center;
}
.split-photo #grad-img {
    object-position: center 30%;
}
.split-photo #medal-img {
    object-position: center 25%;
}
/* Soft gradient fade from photo into background color */
.photo-fade {
    position: absolute;
    top: 0;
    bottom: 0;
    width: 120px;
    z-index: 2;
    pointer-events: none;
}

/* Fade on the left edge of a right-positioned photo */
.fade-left {
    left: 0;
    background: linear-gradient(
        90deg,
        var(--slide-bg, #0a0a0a) 0%,
        var(--slide-bg-mid, #151515) 30%,
        transparent 100%
    );
}

/* Fade on the right edge of a left-positioned photo */
.fade-right {
    right: 0;
    background: linear-gradient(
        270deg,
        var(--slide-bg, #0a0a0a) 0%,
        var(--slide-bg-mid, #151515) 30%,
        transparent 100%
    );
}

/* Top & bottom subtle vignette on photo */
.split-photo::before,
.split-photo::after {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    height: 80px;
    z-index: 3;
    pointer-events: none;
}

.split-photo::before {
    top: 0;
    background: linear-gradient(180deg, var(--slide-bg, #0a0a0a), transparent);
}

.split-photo::after {
    bottom: 0;
    background: linear-gradient(0deg, var(--slide-bg, #0a0a0a), transparent);
}

/* ============================================================
   LAYOUT B: FULL — For landscape photos (slides 2, 9, 10)
   Photo as a background-image with cover — natural for landscape.
   ============================================================ */
.slide-full {
    display: flex;
    align-items: center;
    justify-content: center;
}

.slide-bg {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    z-index: 0;
    transform: scale(1);
    transition: transform 8s ease-out;
}

.slide-full.active .slide-bg {
    transform: scale(1.04);
}

/* Full-slide overlays */
.slide-overlay {
    position: absolute;
    inset: 0;
    z-index: 1;
}

.overlay-bottom {
    background: linear-gradient(
        0deg,
        rgba(12, 21, 32, 0.95) 0%,
        rgba(12, 21, 32, 0.7) 35%,
        rgba(12, 21, 32, 0.25) 60%,
        rgba(12, 21, 32, 0.1) 100%
    );
}

.overlay-bottom-heavy {
    background: linear-gradient(
        0deg,
        rgba(26, 12, 12, 0.97) 0%,
        rgba(26, 12, 12, 0.82) 35%,
        rgba(26, 12, 12, 0.4) 55%,
        rgba(26, 12, 12, 0.2) 100%
    );
}

.overlay-cinematic {
    background:
        radial-gradient(ellipse at center, rgba(0,0,0,0) 30%, rgba(0,0,0,0.5) 100%),
        linear-gradient(
            0deg,
            rgba(16, 12, 5, 0.8) 0%,
            rgba(16, 12, 5, 0.5) 40%,
            rgba(16, 12, 5, 0.35) 100%
        );
}

.overlay-faith {
    background:
        radial-gradient(ellipse at center, rgba(0,0,0,0) 25%, rgba(6, 14, 10, 0.6) 100%),
        linear-gradient(
            0deg,
            rgba(6, 14, 10, 0.88) 0%,
            rgba(6, 14, 10, 0.6) 35%,
            rgba(6, 14, 10, 0.45) 100%
        );
}

/* ============================================================
   SLIDE CONTENT
   ============================================================ */
.slide-content {
    position: relative;
    z-index: 10;
    max-width: 900px;
    padding: 2rem 4rem;
}

.content-center {
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.content-bottom-left {
    text-align: left;
    position: absolute;
    bottom: 5rem;
    left: 0;
    padding: 2rem 8rem;
    max-width: 60vw;
}

.content-bottom-center {
    text-align: center;
    position: absolute;
    bottom: 5rem;
    left: 50%;
    transform: translateX(-50%);
    width: 90vw;
    max-width: 900px;
    padding: 2rem;
    display: flex;
    flex-direction: column;
    align-items: center;
}

/* ============================================================
   TYPOGRAPHY
   ============================================================ */
.slide-tag {
    font-family: var(--font-body);
    font-size: 0.75rem;
    font-weight: 600;
    letter-spacing: 0.35em;
    text-transform: uppercase;
    color: var(--gold);
    margin-bottom: 1.2rem;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
}

.slide-title {
    font-family: var(--font-heading);
    font-size: clamp(2rem, 4.2vw, 3.8rem);
    font-weight: 900;
    line-height: 1.15;
    margin-bottom: 1.5rem;
    text-shadow:
        0 2px 4px rgba(0, 0, 0, 0.4),
        0 4px 20px rgba(0, 0, 0, 0.3);
}

.text-gold {
    color: var(--gold);
    text-shadow:
        0 0 30px rgba(212, 168, 67, 0.2),
        0 2px 4px rgba(0, 0, 0, 0.4);
}

.text-red {
    color: var(--red);
    text-shadow:
        0 0 30px rgba(230, 57, 70, 0.2),
        0 2px 4px rgba(0, 0, 0, 0.4);
}

.text-green {
    color: #2ECC71;
    text-shadow:
        0 0 30px rgba(46, 204, 113, 0.25),
        0 2px 4px rgba(0, 0, 0, 0.4);
}

.slide-subtitle {
    font-size: clamp(1rem, 1.8vw, 1.25rem);
    font-weight: 300;
    color: var(--text-secondary);
    line-height: 1.8;
    margin-bottom: 2rem;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
}

.slide-body {
    font-size: clamp(0.95rem, 1.6vw, 1.12rem);
    font-weight: 300;
    color: var(--text-secondary);
    line-height: 2;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
}

.slide-body strong {
    color: var(--gold);
    font-weight: 600;
}

.slide-body-large {
    font-size: clamp(1.1rem, 2vw, 1.35rem);
}

.slide-quote {
    margin-top: 1.5rem;
    font-family: var(--font-heading);
    font-style: italic;
    font-size: clamp(1rem, 1.6vw, 1.15rem);
    color: var(--text-muted);
    line-height: 1.8;
    text-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
}

.slide-closing {
    margin-top: 1.5rem;
    font-size: 1.5rem;
    font-weight: 700;
}

/* ---- Lists ---- */
.slide-list {
    list-style: none;
    padding: 0;
}

.slide-list li {
    font-size: clamp(0.9rem, 1.4vw, 1.05rem);
    font-weight: 300;
    color: var(--text-secondary);
    padding: 0.5rem 0;
    padding-left: 1.5rem;
    position: relative;
    line-height: 1.6;
    text-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
}

.slide-list li::before {
    content: '';
    position: absolute;
    left: 0;
    top: 50%;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: var(--gold);
    transform: translateY(-50%);
    box-shadow: 0 0 8px rgba(212, 168, 67, 0.4);
}

/* ---- Achievement Grid ---- */
.achievement-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.8rem;
    margin-top: 0.8rem;
    width: 100%;
}

.achievement {
    display: flex;
    align-items: center;
    gap: 0.7rem;
    padding: 0.8rem 0.9rem;
    background: rgba(212, 168, 67, 0.06);
    border: 1px solid rgba(212, 168, 67, 0.15);
    border-radius: 10px;
    backdrop-filter: blur(12px);
    transition: all 0.3s ease;
}

.achievement:hover {
    background: rgba(212, 168, 67, 0.12);
    border-color: rgba(212, 168, 67, 0.28);
    transform: translateY(-2px);
}

.achievement-icon { font-size: 1.4rem; }

.achievement-text {
    font-size: 0.85rem;
    font-weight: 500;
    color: var(--text-primary);
}

/* ---- Lessons Grid ---- */
.lessons-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.7rem;
    margin-top: 0.8rem;
}

.lesson-card {
    padding: 0.8rem;
    background: rgba(255, 255, 255, 0.04);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 10px;
    backdrop-filter: blur(12px);
    transition: all 0.4s ease;
    text-align: left;
}

.lesson-card:hover {
    background: rgba(212, 168, 67, 0.08);
    border-color: rgba(212, 168, 67, 0.18);
    transform: translateY(-2px);
}

.lesson-word {
    display: block;
    font-family: var(--font-heading);
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--gold);
    margin-bottom: 0.2rem;
}

.lesson-desc {
    display: block;
    font-size: 0.78rem;
    font-weight: 300;
    color: var(--text-secondary);
}

/* ---- Video Container ---- */
.video-container {
    margin-top: 1.5rem;
    width: 100%;
    max-width: 580px;
}

/* Centered video slide — no bg image, video is the star */
.slide-video-centered {
    align-items: center;
    justify-content: center;
}

.slide-video-centered .slide-content {
    max-width: 720px;
}

.slide-video-centered .video-container {
    max-width: 640px;
}

.video-label {
    font-size: 0.8rem;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    color: var(--gold);
    margin-bottom: 0.8rem;
    font-weight: 600;
}

.video-wrapper {
    position: relative;
    width: 100%;
    border-radius: 14px;
    overflow: hidden;
    border: 1px solid rgba(212, 168, 67, 0.2);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
}

.video-wrapper video {
    width: 100%;
    display: block;
    border-radius: 14px;
}

/* ---- Scroll Hint ---- */
.scroll-hint {
    margin-top: 2.5rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
}

.scroll-hint span {
    font-size: 0.7rem;
    letter-spacing: 0.25em;
    text-transform: uppercase;
    color: var(--text-muted);
}

.scroll-arrow {
    width: 18px;
    height: 18px;
    border-right: 2px solid var(--gold);
    border-bottom: 2px solid var(--gold);
    transform: rotate(45deg);
    animation: bounceArrow 2s infinite;
    opacity: 0.5;
}

@keyframes bounceArrow {
    0%, 100% { transform: rotate(45deg) translate(0, 0); }
    50% { transform: rotate(45deg) translate(5px, 5px); }
}

/* ============================================================
   ANIMATIONS
   ============================================================ */
.animate-item {
    opacity: 0;
    transform: translateY(22px);
}

.slide.active .animate-item {
    animation: fadeInUp 0.7s forwards;
}

.slide.active .animate-item:nth-child(1) { animation-delay: 0.15s; }
.slide.active .animate-item:nth-child(2) { animation-delay: 0.35s; }
.slide.active .animate-item:nth-child(3) { animation-delay: 0.55s; }
.slide.active .animate-item:nth-child(4) { animation-delay: 0.75s; }
.slide.active .animate-item:nth-child(5) { animation-delay: 0.95s; }
.slide.active .animate-item:nth-child(6) { animation-delay: 1.15s; }
.slide.active .animate-item:nth-child(7) { animation-delay: 1.35s; }

.slide:not(.active) .animate-item {
    opacity: 0;
    transform: translateY(22px);
    animation: none !important;
}

@keyframes fadeInUp {
    from { opacity: 0; transform: translateY(22px); }
    to   { opacity: 1; transform: translateY(0); }
}

/* Subtle photo entrance for split layout */
.slide.active .split-photo img {
    animation: photoReveal 1.2s 0.1s var(--transition-smooth) forwards;
}

.split-photo img {
    opacity: 0;
    transform: scale(1.03);
}

@keyframes photoReveal {
    from { opacity: 0; transform: scale(1.03); }
    to   { opacity: 1; transform: scale(1); }
}

/* ============================================================
   RESPONSIVE
   ============================================================ */
@media (max-width: 1024px) {
    .split-photo {
        flex: 0 0 42%;
    }

    .achievement-grid,
    .lessons-grid {
        grid-template-columns: 1fr;
    }

    .content-bottom-left {
        max-width: 70vw;
    }
}

@media (max-width: 768px) {
    /* Stack split layout vertically on mobile */
    .slide-split {
        flex-direction: column;
    }

    .split-text {
        flex: 1;
        padding: 1.5rem 1.5rem;
        order: 2;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
    }

    .split-photo {
        flex: 0 0 35vh;
        order: 1;
        width: 100%;
    }

    /* Default mobile: push focus slightly below center for face visibility */
    .split-photo img {
        object-position: center 30%;
    }
    /* Per-image overrides still apply via higher specificity (ID selectors) */

    .split-text-inner {
        max-width: 100%;
    }

    .slide-tag {
        font-size: 0.65rem;
        margin-bottom: 0.8rem;
    }

    .slide-title {
        font-size: clamp(1.6rem, 5.5vw, 2.2rem);
        margin-bottom: 1rem;
    }

    .slide-subtitle {
        font-size: clamp(0.85rem, 3vw, 1rem);
        margin-bottom: 1rem;
    }

    .slide-body {
        font-size: clamp(0.82rem, 2.8vw, 0.95rem);
        line-height: 1.7;
    }

    .slide-list li {
        font-size: clamp(0.8rem, 2.6vw, 0.9rem);
        padding: 0.35rem 0;
        padding-left: 1.2rem;
    }

    /* Fades become bottom fades in stacked mode */
    .photo-fade {
        display: none;
    }

    .split-photo::before { display: none; }
    .split-photo::after {
        height: 50px;
    }

    .slide-content {
        padding: 1.2rem 1.5rem;
    }

    .content-bottom-left {
        padding: 1.2rem 1.5rem;
        max-width: 90vw;
    }

    .content-bottom-center {
        bottom: 3.5rem;
        width: 95vw;
        padding: 1rem;
    }

    /* Hide arrows on mobile — use swipe or dots instead */
    .nav-arrow {
        display: none;
    }

    #slide-counter {
        top: 1rem;
        right: 1.2rem;
        font-size: 0.75rem;
    }

    #current-slide-num {
        font-size: 0.9rem;
    }

    #keyboard-hint { display: none; }

    /* Achievement & lesson grids */
    .achievement-grid,
    .lessons-grid {
        grid-template-columns: 1fr;
        gap: 0.5rem;
    }

    .achievement {
        padding: 0.6rem 0.8rem;
        gap: 0.5rem;
    }

    .achievement-icon { font-size: 1.1rem; }
    .achievement-text { font-size: 0.78rem; }

    .lesson-card {
        padding: 0.6rem;
    }

    .lesson-word { font-size: 0.95rem; }
    .lesson-desc { font-size: 0.72rem; }

    /* Video slide */
    .video-container {
        max-width: 100%;
        margin-top: 1rem;
    }

    .slide-video-centered .slide-content {
        max-width: 100%;
        padding: 1.5rem;
    }

    .video-label {
        font-size: 0.7rem;
    }

    /* Slide dots */
    #slide-dots {
        bottom: 1rem;
        gap: 5px;
    }

    .dot {
        width: 6px;
        height: 6px;
    }
}

@media (max-width: 480px) {
    .slide-title {
        font-size: clamp(1.4rem, 5.5vw, 1.8rem);
    }

    .split-text {
        padding: 1rem 1rem;
    }

    .split-photo {
        flex: 0 0 32vh;
    }

    .achievement,
    .lesson-card {
        padding: 0.5rem;
    }

    .lesson-word { font-size: 0.88rem; }

    .content-bottom-center {
        bottom: 3rem;
    }

    .slide-body {
        font-size: clamp(0.78rem, 2.5vw, 0.88rem);
        line-height: 1.6;
    }

    .slide-quote {
        font-size: clamp(0.85rem, 3vw, 1rem) !important;
    }
}

@media (max-width: 375px) {
    .slide-title {
        font-size: clamp(1.2rem, 5vw, 1.6rem);
    }

    .split-text {
        padding: 0.8rem 0.8rem;
    }

    .split-photo {
        flex: 0 0 28vh;
    }

    .slide-tag {
        font-size: 0.58rem;
        letter-spacing: 0.25em;
    }

    .slide-body {
        font-size: 0.76rem;
    }

    .achievement-text { font-size: 0.72rem; }
    .lesson-desc { font-size: 0.68rem; }
}

/* ============================================================
   FUSION SLIDE — Split Collision Design
   ============================================================ */
.slide-fusion {
    position: relative;
    overflow: hidden;
}

/* -- Half panels -- */
.fusion-half {
    position: absolute;
    top: 0;
    bottom: 0;
    width: 50%;
    overflow: hidden;
}

.fusion-half-left { left: 0; }
.fusion-half-right { right: 0; }

/* Engineering background image */
.fusion-bg-img {
    position: absolute;
    inset: 0;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
}

/* Karate full-bleed image */
.fusion-karate-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center top;
    display: block;
}

/* Overlays — tinted per side */
.fusion-half-overlay {
    position: absolute;
    inset: 0;
    z-index: 1;
}

.fusion-overlay-eng {
    background:
        linear-gradient(135deg, rgba(10, 18, 32, 0.55) 0%, rgba(10, 18, 32, 0.35) 50%, rgba(10, 18, 32, 0.7) 100%),
        linear-gradient(90deg, transparent 60%, rgba(0, 0, 0, 0.6) 100%);
}

.fusion-overlay-karate {
    background:
        linear-gradient(-135deg, rgba(26, 10, 16, 0.5) 0%, rgba(26, 10, 16, 0.25) 50%, rgba(26, 10, 16, 0.65) 100%),
        linear-gradient(270deg, transparent 60%, rgba(0, 0, 0, 0.6) 100%);
}

/* -- Per-half content (logo, label) -- */
.fusion-half-content {
    position: absolute;
    inset: 0;
    z-index: 2;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 1.5rem;
}

/* Faculty logo — large, glowing, prominent */
.fusion-logo {
    width: 400px;
    height: auto;
    filter: drop-shadow(0 0 30px rgba(42, 74, 106, 0.6)) drop-shadow(0 0 60px rgba(42, 74, 106, 0.3)) brightness(1.1);
    animation: fusionLogoPulse 4s ease-in-out infinite alternate;
    background: #ffffff;
    border-radius: 50%;
}

@keyframes fusionLogoPulse {
    0%   { filter: drop-shadow(0 0 25px rgba(42, 74, 106, 0.5)) drop-shadow(0 0 50px rgba(42, 74, 106, 0.2)) brightness(1.05); }
    100% { filter: drop-shadow(0 0 40px rgba(42, 74, 106, 0.7)) drop-shadow(0 0 80px rgba(42, 74, 106, 0.35)) brightness(1.15); }
}

/* Side labels */
.fusion-label {
    font-family: var(--font-body);
    font-size: 0.75rem;
    font-weight: 600;
    letter-spacing: 0.35em;
    text-transform: uppercase;
    color: var(--gold);
    text-shadow: 0 2px 10px rgba(0, 0, 0, 0.6);
}

.fusion-label i {
    margin-right: 0.4em;
}

/* ============================================================
   COLLISION CENTER — Energy Effects
   ============================================================ */
.fusion-collision {
    position: absolute;
    top: 0;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 80px;
    z-index: 5;
    pointer-events: none;
}

/* Main glow line */
.fusion-line {
    position: absolute;
    top: 0;
    bottom: 0;
    left: 50%;
    width: 3px;
    transform: translateX(-50%);
    background: linear-gradient(
        180deg,
        transparent 0%,
        var(--gold-dark) 10%,
        var(--gold) 30%,
        var(--gold-light) 50%,
        var(--gold) 70%,
        var(--gold-dark) 90%,
        transparent 100%
    );
    box-shadow:
        0 0 15px rgba(212, 168, 67, 0.6),
        0 0 40px rgba(212, 168, 67, 0.3),
        0 0 80px rgba(212, 168, 67, 0.15);
    animation: fusionLinePulse 2.5s ease-in-out infinite alternate;
}

@keyframes fusionLinePulse {
    0% {
        box-shadow:
            0 0 12px rgba(212, 168, 67, 0.5),
            0 0 30px rgba(212, 168, 67, 0.2);
    }
    100% {
        box-shadow:
            0 0 20px rgba(212, 168, 67, 0.8),
            0 0 50px rgba(212, 168, 67, 0.35),
            0 0 100px rgba(212, 168, 67, 0.15);
    }
}

/* Energy rings at center of collision */
.fusion-energy-ring {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 60px;
    height: 60px;
    transform: translate(-50%, -50%);
    border: 2px solid rgba(212, 168, 67, 0.4);
    border-radius: 50%;
    animation: fusionRingPulse 3s ease-in-out infinite;
}

.fusion-energy-ring-2 {
    width: 90px;
    height: 90px;
    border-color: rgba(212, 168, 67, 0.2);
    animation-delay: 0.5s;
    animation-duration: 3.5s;
}

@keyframes fusionRingPulse {
    0% {
        transform: translate(-50%, -50%) scale(0.8);
        opacity: 0;
    }
    30% {
        opacity: 0.7;
    }
    100% {
        transform: translate(-50%, -50%) scale(1.8);
        opacity: 0;
    }
}

/* -- Fusion sparks -- */
.fusion-sparks {
    position: absolute;
    inset: 0;
}

.fusion-sparks span {
    position: absolute;
    width: 3px;
    height: 3px;
    background: var(--gold-light);
    border-radius: 50%;
    left: 50%;
    opacity: 0;
    animation: fusionSpark 4s infinite ease-out;
}

.fusion-sparks span:nth-child(1)  { top: 8%;  animation-delay: 0s; }
.fusion-sparks span:nth-child(2)  { top: 18%; animation-delay: 0.4s; }
.fusion-sparks span:nth-child(3)  { top: 30%; animation-delay: 0.9s; width: 4px; height: 4px; }
.fusion-sparks span:nth-child(4)  { top: 42%; animation-delay: 1.3s; }
.fusion-sparks span:nth-child(5)  { top: 53%; animation-delay: 1.8s; }
.fusion-sparks span:nth-child(6)  { top: 62%; animation-delay: 2.2s; width: 2px; height: 2px; }
.fusion-sparks span:nth-child(7)  { top: 72%; animation-delay: 2.7s; }
.fusion-sparks span:nth-child(8)  { top: 80%; animation-delay: 3.1s; width: 4px; height: 4px; }
.fusion-sparks span:nth-child(9)  { top: 88%; animation-delay: 3.5s; }
.fusion-sparks span:nth-child(10) { top: 95%; animation-delay: 3.9s; width: 2px; height: 2px; }

@keyframes fusionSpark {
    0% {
        opacity: 0;
        transform: translate(-50%, 0) scale(0.3);
    }
    15% {
        opacity: 1;
        transform: translate(-50%, 0) scale(1);
    }
    50% {
        opacity: 0.6;
        transform: translate(calc(-50% + 20px), -10px) scale(0.7);
    }
    100% {
        opacity: 0;
        transform: translate(calc(-50% - 25px), -20px) scale(0.2);
    }
}

.fusion-sparks span:nth-child(odd) {
    animation-name: fusionSparkAlt;
}

@keyframes fusionSparkAlt {
    0% {
        opacity: 0;
        transform: translate(-50%, 0) scale(0.3);
    }
    15% {
        opacity: 1;
        transform: translate(-50%, 0) scale(1);
    }
    50% {
        opacity: 0.6;
        transform: translate(calc(-50% - 20px), 10px) scale(0.7);
    }
    100% {
        opacity: 0;
        transform: translate(calc(-50% + 25px), 20px) scale(0.2);
    }
}

/* ============================================================
   FUSION PER-HALF TEXT — Mirrored Bottom Positioning
   ============================================================ */
.fusion-half-text {
    position: absolute;
    bottom: 4.5rem;
    z-index: 10;
    width: 50%;
    padding: 0 2rem;
}
.fusion-half-text-right{
    text-align: left;
}
.fusion-half-text-left{
    text-align: right;
}
.fusion-half-text-left {
    left: 0;
}

.fusion-half-text-right {
    right: 0;
}

.fusion-half-text .slide-tag {
    margin-bottom: 0.6rem;
}

.fusion-half-text .slide-title {
    font-size: clamp(2rem, 4vw, 3.2rem);
    margin-bottom: 0;
    text-shadow:
        0 2px 4px rgba(0, 0, 0, 0.6),
        0 4px 30px rgba(0, 0, 0, 0.5);
}

/* Shared subtitle spanning full width at the very bottom */
.fusion-bottom-subtitle {
    position: absolute;
    bottom: 3.2rem;
    left: 0;
    right: 0;
    z-index: 10;
    text-align: center;
}

.fusion-bottom-subtitle .slide-subtitle {
    margin-bottom: 0;
    text-shadow: 0 2px 10px rgba(0, 0, 0, 0.7);
}

/* Centered tag above the titles */
.fusion-center-tag {
    position: absolute;
    bottom: 9.5rem;
    left: 0;
    right: 0;
    z-index: 10;
    text-align: center;
}

.fusion-center-tag .slide-tag {
    margin-bottom: 0;
}

/* ============================================================
   FUSION ANIMATIONS — Entrance
   ============================================================ */
.slide-fusion.active .fusion-half-left {
    animation: fusionSlideLeft 1.2s 0.1s var(--transition-smooth) both;
}

.slide-fusion.active .fusion-half-right {
    animation: fusionSlideRight 1.2s 0.2s var(--transition-smooth) both;
}

@keyframes fusionSlideLeft {
    from { opacity: 0; transform: translateX(-40px); }
    to   { opacity: 1; transform: translateX(0); }
}

@keyframes fusionSlideRight {
    from { opacity: 0; transform: translateX(40px); }
    to   { opacity: 1; transform: translateX(0); }
}

.slide-fusion.active .fusion-collision {
    animation: fusionCollisionReveal 0.8s 0.6s ease both;
}

@keyframes fusionCollisionReveal {
    from { opacity: 0; transform: translateX(-50%) scaleY(0); }
    to   { opacity: 1; transform: translateX(-50%) scaleY(1); }
}

/* Reset when not active */
.slide-fusion:not(.active) .fusion-half-left,
.slide-fusion:not(.active) .fusion-half-right,
.slide-fusion:not(.active) .fusion-collision {
    opacity: 0;
    animation: none !important;
}

/* ============================================================
   FUSION — RESPONSIVE
   ============================================================ */
@media (max-width: 768px) {
    .fusion-half {
        width: 100%;
        height: 50%;
    }

    .fusion-half-left {
        top: 0;
        bottom: auto;
    }

    .fusion-half-right {
        top: auto;
        bottom: 0;
    }

    .fusion-collision {
        top: auto;
        bottom: auto;
        left: 0;
        right: 0;
        width: 100%;
        height: 60px;
        top: 50%;
        transform: translateY(-50%);
    }

    .fusion-line {
        width: 100%;
        height: 3px;
        top: 50%;
        left: 0;
        right: 0;
        bottom: auto;
        transform: translateY(-50%);
        background: linear-gradient(
            90deg,
            transparent 0%,
            var(--gold-dark) 10%,
            var(--gold) 50%,
            var(--gold-dark) 90%,
            transparent 100%
        );
    }

    .fusion-energy-ring,
    .fusion-energy-ring-2 {
        top: 50%;
        left: 50%;
    }

    .fusion-sparks span {
        top: 50% !important;
    }

    .fusion-sparks span:nth-child(1)  { left: 5%; }
    .fusion-sparks span:nth-child(2)  { left: 15%; }
    .fusion-sparks span:nth-child(3)  { left: 25%; }
    .fusion-sparks span:nth-child(4)  { left: 35%; }
    .fusion-sparks span:nth-child(5)  { left: 45%; }
    .fusion-sparks span:nth-child(6)  { left: 55%; }
    .fusion-sparks span:nth-child(7)  { left: 65%; }
    .fusion-sparks span:nth-child(8)  { left: 75%; }
    .fusion-sparks span:nth-child(9)  { left: 85%; }
    .fusion-sparks span:nth-child(10) { left: 95%; }

    .fusion-logo {
        width: clamp(80px, 22vw, 130px) !important;
    }

    .fusion-label {
        font-size: 0.6rem;
    }

    /* Per-half text on mobile */
    .fusion-half-text {
        width: 50%;
        bottom: 2rem;
        padding: 0 0.8rem;
    }

    .fusion-half-text .slide-title {
        font-size: clamp(1.3rem, 5vw, 1.8rem) !important;
    }

    .fusion-center-tag {
        bottom: 6rem;
    }

    .fusion-center-tag .slide-tag {
        font-size: 0.6rem;
    }

    .fusion-bottom-subtitle {
        bottom: 1.2rem;
    }

    .fusion-bottom-subtitle .slide-subtitle {
        font-size: clamp(0.7rem, 2.5vw, 0.85rem);
    }
}

@media (max-width: 480px) {
    .fusion-logo {
        width: clamp(60px, 20vw, 100px) !important;
    }

    .fusion-half-text .slide-title {
        font-size: clamp(1.1rem, 4.5vw, 1.5rem) !important;
    }

    .fusion-center-tag {
        bottom: 5rem;
    }
}

@media (max-width: 375px) {
    .fusion-logo {
        width: clamp(50px, 18vw, 80px) !important;
    }

    .fusion-half-text {
        bottom: 1.8rem;
    }

    .fusion-half-text .slide-title {
        font-size: clamp(1rem, 4vw, 1.3rem) !important;
    }

    .fusion-center-tag {
        bottom: 4.5rem;
    }
}

/* ---- Selection ---- */
::selection {
    background: rgba(212, 168, 67, 0.3);
    color: var(--text-primary);
}

::-webkit-scrollbar { display: none; }
